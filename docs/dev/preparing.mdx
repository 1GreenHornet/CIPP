---
id: preparing
title: Preparing for Local Development.
description: Preparing to develop the CIPP React frontend.
slug: /preparing
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::danger SAM Tokens for Dev

We **strongly** recommend that you setup an entirely separate SAM app and KeyVault for development purposes.

:::

So first you'll need tokens for a [Secure Application Model (SAM) application](../../user/gettingstarted/prerequisites/) and you'll need to have completed [setting up for local development](/docs/dev/settingup)

:::tip Recommended Extensions

If you use the [Visual Studio Code](https://code.visualstudio.com/) editor when you open the folder containing the CIPP frontend you'll be presented with the option to install recommended extensions.

:::

For the purposes of this guide remember that our `CIPP` and `CIPP-API` repositories are located alongside each other (siblings) in `X:\Development\CIPP-Project`.

You should now have everything you need to start a local development instance of the Azure Function App (API), the Static Web App (frontend) or both.

Starting only the frontend:

```sh
swa start 'X:\Development\CIPP-Project\CIPP' --swa-config-location "C:\DoesntExist"
```

We use an invalid path for `--swa-config-location` on purpose, because the config we provide in the CIPP folder only works for the cloud SWA engine and not the local emulator.

To start only the API function app:

```sh
func start --script-root "X:\Development\CIPP-Project\CIPP-API"
```

For starting both, we recommend separate use of `func start` and `swa start`. You can also have the SWA utility start the API but this brings in some added difficulties because you can't see the API logs directly in the console.

```sh
func start --script-root "X:\Development\CIPP-Project\CIPP-API"
swa start "X:\Development\CIPP-Project\CIPP" --swa-config-location "C:\DoesntExist" --api-location http://localhost:7071/
```

If you need the APIs to connect to Microsoft 365 and/or you need to test the Secure Application Model functionality itself you'll also need to make a `local.settings.json` file inside of the `CIPP-API` folder. This file is ignored by git (via the `.gitignore` file) so it will not be pushed with any changes/contributions you make. This file contains the Secure Application Model tokens, and a Azure Storage connection string for the durable function queues.

The contents of your `local.settings.json` file will differ depending on whether you are using the Azurite storage emulator or Azure Storage itself.

<Tabs>
  <TabItem value="azurite" label="Azurite">

```JSON
{
  "IsEncrypted": false,
  "Values": {
    "FUNCTIONS_WORKER_RUNTIME": "powershell",
    "FUNCTIONS_WORKER_RUNTIME_VERSION": "~7",
    "AzureWebJobsStorage": "UseDevelopmentStorage=true",
    "AzureWebJobsSecretStorageType": "files",
    "applicationid": "<APPLICATION ID>",
    "applicationsecret": "<APPLICATION SECRET>",
    "refreshtoken": "<REFRESH TOKEN>",
    "exchangerefreshtoken": "<EXCHANGE REFRESH TOKEN>",
    "tenantid":"<TENANT ID>"
  }
}
```

  </TabItem>
  <TabItem value="azurestorage" label="Azure Storage">

```JSON
{
  "IsEncrypted": false,
  "Values": {
    "FUNCTIONS_WORKER_RUNTIME": "powershell",
    "FUNCTIONS_WORKER_RUNTIME_VERSION": "~7",
    "AzureWebJobsStorage": "DefaultEndpointsProtocol=<AZURESTORAGECONNECTIONSTRING>",
    "applicationid": "<APPLICATION ID>",
    "applicationsecret": "<APPLICATION SECRET>",
    "refreshtoken": "<REFRESH TOKEN>",
    "exchangerefreshtoken": "<EXCHANGE REFRESH TOKEN>",
    "tenantid":"<TENANT ID>"
  }
}
```

  </TabItem>
</Tabs>

:::tip We've got you covered!

If you open the CIPP project in [Visual Studio Code](https://code.visualstudio.com/) we have a `launch.json` file that you can use to start the API, frontend, Azurite and SWA emulator. You can consult the documentation on [Debugging in Visual Studio Code](https://code.visualstudio.com/docs/editor/debugging) for more information.

The launch task you're looking for is `Launch it all ðŸš€`. Which launches everything required to run CIPP locally. Once started you'll find CIPP by visiting [localhost:4280](https://localhost:4280/).
