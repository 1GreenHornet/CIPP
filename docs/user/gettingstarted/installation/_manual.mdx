If you don't want to, or can't, install CIPP automatically you can use the following steps to create the required Azure services manually.

## Create an Azure Function host

Create an Azure Function App and upload the data from the CIPP-API to the Azure Function, or attach it to your fork. Each time the team pushes updates to the central repository you must also update your fork to keep current. 

After creating the Azure function, Enable system managed identity for the Azure Function. [Microsoft Docs - How to use managed identities for App Service and Azure Functions](https://docs.microsoft.com/en-us/azure/app-service/overview-managed-identity?toc=%2Fazure%2Fazure-functions%2Ftoc.json&tabs=powershell)

Give the managed identity "Reader" access on the Azure Subscription. [Microsoft Docs - Assign Azure Roles to a managed identity](https://docs.microsoft.com/en-us/azure/role-based-access-control/role-assignments-portal-managed-identity)

## Create an Azure Key Vault

Create an Azure Key Vault and give the system managed identity access to update, read, and create Secrets. This Key Vault stores credentials and tokens for the application. [Microsoft Docs - Assign a Key Vault access policy](https://docs.microsoft.com/en-us/azure/key-vault/general/assign-access-policy?tabs=azure-portal)

## Create an Azure Static Web App

Create a premium Azure Static Web App in the Azure portal and use the CIPP repository fork you've made as the source. When CIPP updates release you must pull the latest changes into your fork and push (deploy) these to the Static Web App. It's possible to automate deployment using GitHub Actions, Azure DevOps Pipelines or GitLab CI/CD (or other CI/CD tools).

After creation, perform the following changes:

* Attach the Function App to the Static Web App. [Microsoft Docs - Bring your own functions to Azure Static Web Apps](https://docs.microsoft.com/en-us/azure/static-web-apps/functions-bring-your-own)